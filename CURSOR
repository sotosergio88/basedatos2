CREATE TABLE PAISES(ID_PAIS VARCHAR2(4),
                    NOMBRE VARCHAR2(100),
                    HABITANTES INTEGER,
                    IDIOMA VARCHAR2(40),
CONSTRAINT PK_ID_PAIS PRIMARY KEY (ID_PAIS));

INSERT INTO PAISES VALUES('MX','MEXICO',90000000,'ESPAÃ‘OL');
INSERT INTO PAISES VALUES('USA','ESTADOS UNIDOS',120000000,'ENGLISH');
INSERT INTO PAISES VALUES('JPA','JAPON',80000000,'JAPONES');
INSERT INTO PAISES VALUES('GER','ALEMANIA',14000000,'ALEMAN');
INSERT INTO PAISES VALUES('BRA','BRASIL',23000000,'PORTUGUES');

SELECT * FROM PAISES;

//ESTRUTURA BASICA DE UN CURSOR ::---->> SIRVE PARA EVITAR EL USO DE JOIN
DECLARE
CURSOR CUR_PAISES IS SELECT * FROM PAISES;
TOTAL_HABITANTES INTEGER;
BEGIN
TOTAL_HABITANTES:=0;
FOR FILA IN CUR_PAISES LOOP
TOTAL_HABITANTES:=TOTAL_HABITANTES+FILA.HABITANTES;
DBMS_OUTPUT.PUT_LINE('PAIS '||FILA.NOMBRE||' HABITANTES '||FILA.HABITANTES||' IDIOMA '||FILA.IDIOMA);
END LOOP;
DBMS_OUTPUT.PUT_LINE('HABITANTES DE TODOS LOS PAISES: '||TOTAL_HABITANTES);
END;

CREATE TABLE ESTUDIANTES(ID_ESTUDIANTE INTEGER,
                         ID_PAIS VARCHAR2(4),
                         CARRERA VARCHAR2(30),
                         EDAD INTEGER,
CONSTRAINT PK_ID_ESTUDIANTE PRIMARY KEY(ID_ESTUDIANTE),
CONSTRAINT PK1_ID_PAIS FOREIGN KEY(ID_PAIS) REFERENCES PAISES(ID_PAIS));


INSERT INTO ESTUDIANTES VALUES(000000001,'MX','ING. SISTEMAS COMPUTACIONALES',21);
INSERT INTO ESTUDIANTES VALUES(000000002,'USA','ROBOTICA',22);
INSERT INTO ESTUDIANTES VALUES(000000003,'JPA','MECATRONICA',23);
INSERT INTO ESTUDIANTES VALUES(000000004,'GER','COMUNICACIONES',24);
INSERT INTO ESTUDIANTES VALUES(000000005,'BRA','TI SISTEMAS',23);
INSERT INTO ESTUDIANTES VALUES(000000006,'MX','ING. ROBOTICA,22);
INSERT INTO ESTUDIANTES VALUES(000000007,'MX','ING. MECATRONICA',20);
INSERT INTO ESTUDIANTES VALUES(000000008,'MX','ING. SISTEMAS COMPUTACIONALES',19);

SELECT * FROM ESTUDIANTES;

DECLARE
CURSOR CUR_ESTUDIANTES IS SELECT * FROM ESTUDIANTES;
BEGIN
FOR FILA IN CUR_ESTUDIANTES LOOP
DBMS_OUTPUT.PUT_LINE('ESTUDIANTES '||FILA.PAIS||' HABITANTES '||FILA.HABITANTES||' CARRERA '||FILA.CARRERA);
END LOOP;
END;
